# FIXME:


1. ~~Названия продуктов в каталоге берутся из products, а в карточке продукта из product_spheres. В админ-панели редактируется поле в products. Что делать с полем product_spheres в этом случае? Может заменять и там и там?~~
> Теперь появилась функция `sync_product_name_to_spheres`, которая синхронизирует название из двух таблиц. А функция `update_product_field` обновляет поле в products и обновляет все остальные продукты в product_spheres
2. ~~Кнопка после удаления документа "Удалить еще файлы этого продукта" не работает~~
> Оказывается рекурсивно вызвать функцию удаления не сделает жизнь лучше 
3. ~~Убрать лишний вывод: множественные вызовы `.get_statistics()`~~ 
> Пофиксил вывод, теперь мусорных логов минимум + обновил системное сообщение в логах и телеграме
4. ~~Убрать инициализирующую загрзку документов~~
> Была проблема, поиск работал около 20 секунд, так как поиск инициализировался каждый раз заново. Была реализована оптимаизация, поиск ускорился в 10 раз.
5. ~~Изменить вывод информации от бота~~
6. ~~Добавить в "Помощь" новые реализации и изменить старые~~
7. ~~Ошибка дублирования ordering при загрузке файлов в админ панели~~
> Исправлена логика автоматического определения ordering в ProductFileRepository для избежания конфликтов уникального ключа ux_prod_kind_order
8. **Embedding strategy**
9. ~~Подумать как лучше расположить кнопки назад при отправке медиа и документации~~
> Вся логика навигации проверена, сейчас все устраивает
10. **При добавлении нового файла, происходит полная переиндексация. Неважно, pdf это или какое-то медиа**
11. ~~Кнопка назад в карточке продукта ведет в каталог а не в обратный список продуктов. Это когда происходит поиск по названию~~
12. ~~Аэродромный сегмент, почему-то продукт пкв без картинки пк-в редактирует сообщения а не присылает новое. Тоже самое для продукта герметик для горизонтальных швов~~
13. **Ижора не показывает информацию, потому что есть только информация в products**
14. ~~Починить логику преимуществ. Сделать без нумерной список для бд, каждый пункт через точку~~ 
15. ~~Сообщение с ответом от ии отредактировалось, после того как нажлся на положительный результат и на негативный и на меню.~~ 
16. **Одинаковые продукты с разными полями по факту хранятся как разные. Нужно сделать так, что бы была возможность выбрать несколько сфер применения при добавлении/редактировании.**
17. ~~При удалении продукта: Внимание! Продукт будет помечен как удаленный, он не подлежит восстановлению~~ 
18. ~~Продукт больше не отображается в каталоге - удалить смайлик перед~~ 
19. ~~Панель администратора заменить на админ-меню~~
20. ~~Где-то есть отступ строки перед "ID продукта отображается в карточке продукта и результатах поиска" а где-то нет~~ 
21. ~~Редактирование : Полное описание заменить на описание, не показывается новое описание~~ 
22. ~~Редактирование: Когда редактируем поле преимущества, нужно чтобы текущее значнеие до введения новых преимуществ показывалось распаршенным, то есть то как оно выглядит в карточке, а не сырое значение из бд~~ 
23. ~~Редактирование: не показывается новый расход после изменения.~~
24. ~~Не показывается расход после редактирования продукта~~
25. ~~"Продукт с ID 115 не найден или удален, попробуйте ввести другой ID"~~
26. ~~Удалить "Если инфомрации недостаточно, ИИ предложит уточнить запрос"~~
27. ~~Кнопка полезна с лайком заменить на помогло с лайком~~
28. ~~Не загрузилось видео у бота~~
29. ~~При удалении файлов, убрать смайлики и починить смайлики на кнопках~~ 
30. ~~Удалить всех команд кроме /help, /admin, /start~~ 
31. ~~При переносе на нового бота, упали все ролики, а также ижоры~~
31. ~~Кнопка "назад" в сферах и категориях работают по разному~~  **DONE**
33. ~~Кнопка "помощь" и "контакты" имеют разную логику. Одно присылает полную клавиатуру меню, а второе нет~~ **DONE**
34. ~~Не пишется название категории, а пишется "выбрана" при создании продукта~~ **DONE**
35. ~~Нет смайликов у кнопки после успешного добавления продукта~~ **DONE**
36. ~~Изображение обязательно должно быть сжатыам, а сжатое не принимает~~ - нельзя сделать так, чтобы принимались сжатые и несжатые, потому что несжатые принмиаются как документ, и они отправляются как документ потом, тем самым ломая карточку продукта, если загружаются главные картинки **DONE**
37. ~~Убрать всю информацию про упаковку, она будет теперь в виде файла приложенного~~ **DONE**
38. ~~Поменять цвета при подтверждении, сейчас да это зеленый, а красный это отмена~~ **DONE**
39. ~~Удалить строчку "для возврата в панель администратора нажмите кнопку ниже"~~ **DONE**
40. ~~К спискам того что можно отредактировать должна быть кнопка "назад"~~ **DONE**
41. Проблема с парсингом преимуществ в карточках/до и после редактуры" **DONE**
42. ~~Убрать ПГС из категорий и сфер~~ **DONE**
43. ~~Исправить кнопку "Изменить главное фото продукта"~~ **DONE**
44. ~~Удалить все упоминания фразы "...введите /admin" и заменить их на кнопку~~ **DONE**
45. ~~При добавлении продукта, сферы не жирные~~ **DONE**
