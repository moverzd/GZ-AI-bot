# GazpromNeft - Bitum Materials AI Chat Bot

## Телеграм бот компании Газпромнефть Битумные Материалы


## Возможности пользователей
- Просмотр каталога продукции
- Получение информации о продукте
- Умный поиск (насколько возможно)
- Получение контактной информации

## Возможности администраторов

- Панель администратора по команде /admin
- Показать весь список продуктов 
- Добавить продукт
- Отредактировать карточку
- Удалить карточку
- Изменить главное фото продукта 
- Удалить главное фото продукта 
- Добавить файлы к определенному продукту 
- Удалить файлы у определенного продукта


# TODO:
0. AI RAG System
1. ~~Создать автоответчик на поведение вне какого-либо контекста~~ **DONE**
2. ~~Улучшить поиск~~ **DONE**
3. Согласоавить навигационную логику
4. Создать requirements.txt
5. Изолировать блоки try/catch в функции:
Сейчас очень много функций имеют дублирующие обработчики ошибок, сложно их контролировать, нужно это как-то консолидировать в какое-то количетсво меньших функций
6. __init__.py 
7. `delete_files.py` - пофиксить вывод после удаления файла 
8. Скачивание файлов: сейчас файлы нужно ручками качать, нет проверки на дозагрузку файлов, или удаление файлов. Нужно придумать как починить.


# FIXME:
1. ~~Названия продуктов в каталоге берутся из products, а в карточке продукта из product_spheres. В админ-панели редактируется поле в products. Что делать с полем product_spheres в этом случае? Может заменять и там и там?~~
> Теперь появилась функция `sync_product_name_to_spheres`, которая синхронизирует название из двух таблиц. А функция `update_product_field` обновляет поле в products и обновляет все остальные продукты в product_spheres
2. ~~Кнопка после удаления документа "Удалить еще файлы этого продукта" не работает~~
> Оказывается рекурсивно вызвать функцию удаления не сделает жизнь лучше 
3. Поменять у Лент карточки продуктов, пока на тесте сделать 50 на 5, Норд, Тропик **В последствии добавить классиикацию**

